# Make the 'generate_results' script executable
echo "Making 'generate_results' script executable"
chmod +x testing/api/tools/testing_coverage/src/generate_results

# Store the 'testing/api/tools/testing_coverage' directory path
TESTING_COVERAGE_DIR="$(cd "$(dirname "$0")" && pwd)"

# Check if the TESTING_COVERAGE_DIR is already in the PATH environment variable
if [[ ":$PATH:" != *":$TESTING_COVERAGE_DIR:"* ]]; then
  # If not, define the BASH configuration file
  BASH_CONFIG="$HOME/.bashrc"
  # Append the TESTING_COVERAGE_DIR directory to the PATH
  echo "Adding script directory to PATH"
  echo "export PATH=\$PATH:$TESTING_COVERAGE_DIR" >> "$BASH_CONFIG"
  source "$BASH_CONFIG"
  echo "The directory $TESTING_COVERAGE_DIR has been added to the PATH"
  echo "Please restart your terminal or run 'source $BASH_CONFIG' to apply the changes"
else 
  # If the directory is already in the PATH print a message
  echo "The directory $TESTING_COVERAGE_DIR already added to the PATH"
fi
